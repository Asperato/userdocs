<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Testing Payments · asperato</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Once you have completed the setup steps in Asperato, or are in the process of adding configuration it is likely that you will want to complete some test payments. "/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Testing Payments · asperato"/><meta property="og:type" content="website"/><meta property="og:url" content="https://asperato.github.io/userdocs/"/><meta property="og:description" content="Once you have completed the setup steps in Asperato, or are in the process of adding configuration it is likely that you will want to complete some test payments. "/><meta property="og:image" content="https://asperato.github.io/userdocs/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://asperato.github.io/userdocs/img/docusaurus.png"/><link rel="shortcut icon" href="/userdocs/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/userdocs/js/scrollSpy.js"></script><link rel="stylesheet" href="/userdocs/css/main.css"/><script src="/userdocs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/userdocs/"><img class="logo" src="/userdocs/img/logo.svg" alt="asperato"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://appexchange.salesforce.com/appxListingDetail?listingId=a0N3A00000EcrOnUAJ" target="_blank">Download from AppExchange</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>In depth</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">The Basics</h3><ul class=""><li class="navListItem"><a class="navItem" href="/userdocs/docs/prerequisites">Prerequisites</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/authorisations">Authorisations</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/payments">Payments</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/refunds">Refunds</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/schedules">Payment Schedules</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">In depth</h3><ul class=""><li class="navListItem"><a class="navItem" href="/userdocs/docs/packagestructure">Package Structure</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/supportedpsp">Supported Payment Service Providers</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/connectingpsp">Connecting your PSP</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/userdocs/docs/testing">Testing</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/merchantgroups">Merchant Groups</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/paypage">Payment page</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/scasupport">SCA Support</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/successplus">Success+ Support</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/suppressnotifications">Suppress Payment Notifications of GoCardless</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/psppassthrough">PSP Passthrough Parameters</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/fiparams">FI (6012) parameters</a></li><li class="navListItem"><a class="navItem" href="/userdocs/docs/beyond">Beyond the core package</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Testing Payments</h1></header><article><div><span><p>Once you have completed the setup steps in Asperato, or are in the process of adding configuration it is likely that you will want to complete some test payments.</p>
<ul>
<li>Please note that this guidance is for testing payments whilst in test mode only.</li>
<li>Please note that only test payment methods can be used whilst in test mode,  live card or bank details must never be used as the test environment is not PCI compliant.</li>
</ul>
<p>The following article gives you a little guidance to successful testing.</p>
<h2><a class="anchor" aria-hidden="true" id="identifying-failed-payments-and-authorisations"></a><a href="#identifying-failed-payments-and-authorisations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Identifying failed Payments and Authorisations.</h2>
<p>Every payment  or authorisation request you make with the Asperato solution will come back with an outcome, be it successful or failed. If a transaction succeeds, the payment or authorisation stage will show “Success”. If a transaction fails, the outcomes are detailed on the associated payment / authorisation records.  Find them as follows:</p>
<h3><a class="anchor" aria-hidden="true" id="failed-authorisation"></a><a href="#failed-authorisation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Failed Authorisation</h3>
<table>
<tr>
<td>Status</td>
<td>Failed. (Has failed for some reason)</td>
</tr>
<tr>
<td>Status Description</td>
<td>A descriptive text showing the reason related to the current status. Might contain the reason for cancellation or failure for example.</td>
</tr>
<tr>
<td>Direct Debit Error Code</td>
<td>In the event that the BACS system passes back an error response this will contain the raw BACS error code.</td>
</tr>
<tr>
<td>Error Code</td>
<td>This is a santised error code that is created by Asperato when a transaction fails. It is based on the data that is returned from the Payment Service Provider(s). These codes can be used to automate outcome responses. </td>
</tr>
</table>
<h3><a class="anchor" aria-hidden="true" id="failed-payment"></a><a href="#failed-payment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Failed Payment</h3>
<table>
<tr>
<td>Payment Stage</td>
<td>Failed. (The payment attempt failed)</td>
</tr>
<tr>
<td>Payment Stage Description</td>
<td>A descriptive text showing the reason related to the current payment stage. Might contain the reason for cancellation or failure for example.</td>
</tr>
<tr>
<td>Error Code</td>
<td>This is a santised error code that is created by Asperato when a transaction fails. It is based on the data that is returned from the Payment Service Provider(s). These codes can be used to automate outcome responses. </td>
</tr>
</table>
<h3><a class="anchor" aria-hidden="true" id="failed-refund"></a><a href="#failed-refund" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Failed Refund</h3>
<table>
<tr>
<td>Refund Stage</td>
<td>Failed Has failed for some reason</td>
</tr>
<tr>
<td>Refund Stage Description</td>
<td>A descriptive text showing the reason related to the current refund stage. Might contain the reason for failure, for example.</td>
</tr>
<tr>
<td>Direct Debit Error Code</td>
<td>In the event of a direct debit payment failure this will show the detailed error code that was sent from either BACS or SEPA indicating the reason for failure</td>
</tr>
<tr>
<td>Error Code</td>
<td>This is a santised error code that is created by Asperato when a transaction fails. It is based on the data that is returned from the Payment Service Provider(s). These codes can be used to automate outcome responses. </td>
</tr>
</table>
<p>Asperato sanitise each and every message that comes back from the PSPs,  making it simpler for you to handle them:
<a href="https://asperato.github.io/userdocs/docs/payments#payment-outcomes">https://asperato.github.io/userdocs/docs/payments#payment-outcomes</a></p>
<h2><a class="anchor" aria-hidden="true" id="testing-card-payments"></a><a href="#testing-card-payments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing Card Payments</h2>
<p>The process of testing card payments is fairly simple.  The user must enter the card details as required on the Asperato payment page,  each card gateway has its own set of agreed test card numbers, these can be found by heading to your chosen gatewaywebsite and searching for test card details.</p>
<p>Responses from card gateways will the outcome of your test will be almost instantaneous. You should get a result into the Asperato payment record quickly, but may need to refresh the record to see the result.</p>
<p>To check which card gateway you are using, head to the asperato setup page and check details against each currency you have set up.</p>
<h3><a class="anchor" aria-hidden="true" id="failed-card-payment-scenarios"></a><a href="#failed-card-payment-scenarios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Failed card payment scenarios</h3>
<p>In some cases you will want to test certain scenarios,  to ensure that the outcomes are being passed back to the relevant record. For example, failed payments due to insufficient funds,  card expired etc  Again each PSP has its own set of agreed mechanisms for doing this. They can be found by heading to your chosen PSP website and searching for test cards.  Typical methods for doing this include using specific card numbers, payor names or amounts. If at any point you struggle to find the details please drop an email to <a href="mailto:support@asperato.com">support@asperato.com</a> and we can try to assist.</p>
<h2><a class="anchor" aria-hidden="true" id="testing-direct-debit-gocardless"></a><a href="#testing-direct-debit-gocardless" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing Direct Debit (GoCardless)</h2>
<p>Testing Direct Debits is mildly more complex due to the timing cycles involved.</p>
<p>If you set up a  mandate or attempt to process a payment there are certain delays involved when receiving an outcome.  These delays can cause challenges (or lots of tea drinking) for testing / development.</p>
<p>For example the time it takes between setting up a mandate and confirming a mandate in the UK is around 3 days,  a long time to wait if you're testing.  The way to get around this is to use what are called Scenario Simulators offered by GoCardless.</p>
<p>Given the nature of the Asperato integration we suggest using the “Name triggered scenarios”, details of which can be found here:
<a href="https://support.gocardless.com/hc/en-gb/articles/360000984005-Scenario-simulators">https://support.gocardless.com/hc/en-gb/articles/360000984005-Scenario-simulators</a></p>
<p>For full details of different timing cycles please ask your Direct Debit provider: here we give a link to the BACS UK timings: <a href="https://support.gocardless.com/hc/en-gb/articles/210535689-Bacs-UK-Payment-Timings">https://support.gocardless.com/hc/en-gb/articles/210535689-Bacs-UK-Payment-Timings</a></p>
<h2><a class="anchor" aria-hidden="true" id="testing-payments-in-live-mode"></a><a href="#testing-payments-in-live-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing payments in live mode</h2>
<p>Once you go live it is also strongly recommended that you process a few test transactions to ensure that your PSP and Asperato is configured correctly.</p>
<p>To do this, you will require live payment credentials and you will likely want a method to refund them too.  Please note that there is no way to speed up live testing of Direct Debit payments.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/userdocs/docs/connectingpsp"><span class="arrow-prev">← </span><span>Connecting your PSP</span></a><a class="docs-next button" href="/userdocs/docs/merchantgroups"><span>Merchant Groups</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#identifying-failed-payments-and-authorisations">Identifying failed Payments and Authorisations.</a><ul class="toc-headings"><li><a href="#failed-authorisation">Failed Authorisation</a></li><li><a href="#failed-payment">Failed Payment</a></li><li><a href="#failed-refund">Failed Refund</a></li></ul></li><li><a href="#testing-card-payments">Testing Card Payments</a><ul class="toc-headings"><li><a href="#failed-card-payment-scenarios">Failed card payment scenarios</a></li></ul></li><li><a href="#testing-direct-debit-gocardless">Testing Direct Debit (GoCardless)</a></li><li><a href="#testing-payments-in-live-mode">Testing payments in live mode</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/userdocs/" class="nav-home"></a><div><h5>Docs</h5><a href="/userdocs/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/userdocs/docs/en/doc2.html">Guides (or other categories)</a><a href="/userdocs/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/userdocs/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/userdocs/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/userdocs/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright"></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'a54acc865f53354c0ae0efb46f3bdaea',
                indexName: 'asperato',
                inputSelector: '#search_input_react'
              });
            </script></body></html>